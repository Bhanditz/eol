// VALIDATOR.JS by frequency-decoder.com
function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n]))}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")});var formValidatorController;(function(){function e(e){this.formElem=e,this.rules=new Array,this.styleLabelOnErr=e.className&&e.className.search(/styleLabelOnErr/)!=-1,this.invalidClass=e.className&&e.className.search(/invalid-([a-zA-Z0-9\_\-]+)/)!=-1?e.className.match(/invalid-([a-zA-Z0-9\_\-]+)/)[1]:"",this.warningClass=e.className&&e.className.search(/warning-([a-zA-Z0-9\_\-]+)/)!=-1?e.className.match(/warning-([a-zA-Z0-9\_\-]+)/)[1]:"",this.callbackFunction=e.className&&e.className.search(/callback-([a-zA-Z0-9\_\-]+)/)!=-1?e.className.match(/callback-([a-zA-Z0-9\_\-]+)/)[1]:"",this.validateAsErr=!1,this.init=function(){var e=new Array,n=t.formElem.getElementsByTagName("input");for(var r=0,i;i=n[r];r++)typeof i.id!="undefined"&&i.id!=""&&(i.type.toUpperCase()=="TEXT"||i.type.toUpperCase()=="PASSWORD")&&e.push(i);n=t.formElem.getElementsByTagName("textarea");for(var r=0,i;i=n[r];r++)typeof i.id!="undefined"&&i.id!=""&&e.push(i);n=t.formElem.getElementsByTagName("select");for(var r=0,i;i=n[r];r++)typeof i.id!="undefined"&&i.id!=""&&e.push(i);for(var r=0,s;s=e[r];r++)while(s.previousSibling){s=s.previousSibling;if(s.nodeName.toUpperCase().indexOf("TEXT")==-1&&s.nodeName.toUpperCase().indexOf("COMMENT")==-1)break;if(s.nodeName.toUpperCase().indexOf("COMMENT")!=-1&&s.nodeValue.trim().indexOf(e[r].id)==0){var o=s.nodeValue.trim().split(" ");o.length>3&&typeof (new RegExp(o[1]))!="undefined"&&t.addRule(e[r],o[1],o[2]=="true"?!0:!1,o[3]=="true"?!0:!1)}}},this.addRule=function(e,t,n,r){for(var i=0,s;s=this.rules[i];i++)if(s.element.id==e.id){s.regex[s.regex.length]=t.trim();return}var o=new Object;o.element=e,o.element_id=e.id,e.tagName.toUpperCase()=="SELECT"?(o.useSelectedIndex=n,o.element.onchange=this.validateSingle):n?o.element.onblur=this.validateSingle:o.element.onchange=this.validateSingle,o.required=r,o.regex=new Array(t.trim()),o.valid=!0,this.rules.push(o)},this.styleFields=function(e){var n=null;if(t.styleLabelOnErr)if(t.rules[e].element.parentNode.tagName.toUpperCase()=="LABEL")n=t.rules[e].element.parentNode;else{var r=t.formElem.getElementsByTagName("label");for(var i=0;i<r.length;i++)r[i].htmlFor&&r[i]["htmlFor"]==t.rules[e].element.id?n=r[i]:r[i].getAttribute("for")==t.rules[e].element.id&&(n=r[i])}if(t.rules[e].valid==0){if(!t.validateAsErr||!t.rules[e].required)var s=t.invalidClass,o=t.warningClass;else var s=t.warningClass,o=t.invalidClass;t.rules[e].element.className=t.rules[e].element.className.replace(s,""),t.rules[e].element.className.search(o)==-1&&(t.rules[e].element.className+=" "+o),t.styleLabelOnErr&&n!=null&&(n.className=n.className.replace(s,""),n.className.search(o)==-1&&(n.className+=" "+o))}else t.rules[e].element.className=t.rules[e].element.className.replace(t.invalidClass,""),t.rules[e].element.className=t.rules[e].element.className.replace(t.warningClass,""),t.styleLabelOnErr&&n!=null&&(n.className=n.className.replace(t.invalidClass,""),n.className=n.className.replace(t.warningClass,""))},this.validateSingleRule=function(e){if(t.rules[e].element.disabled||t.rules[e].element.display=="none"){t.rules[e].valid=!0,t.styleFields(e);return}t.rules[e].valid=!0;if(t.rules[e].element.tagName.toUpperCase()=="SELECT"){var n=t.rules[e].useSelectedIndex?t.rules[e].element.selectedIndex:t.rules[e].element.options[t.rules[e].element.selectedIndex].value;for(var r=0,i;i=t.rules[e].regex[r];r++){var s=(new RegExp(i)).exec(n)==null?!1:!0;s||(t.rules[e].valid=!1)}}else for(var r=0,i;i=t.rules[e].regex[r];r++){var o=t.rules[e].element.value.match(i),s=o&&o.length>0?!0:!1;!t.rules[e].required&&t.rules[e].element.value.trim()==""&&(s=!0),s||(t.rules[e].valid=!1)}t.styleFields(e)},this.validateSingle=function(e){var n=0;while(n<t.rules.length){if(this.id==t.rules[n].element.id){t.validateSingleRule(n);break}n++}return t.callbackFunction!=""&&t.callbackFunction in window&&window[t.callbackFunction](!1,t.getCallbackObject()),!0},this.getCallbackObject=function(){var e={};for(var n=0;n<t.rules.length;n++)e[t.rules[n].element_id]={valid:t.rules[n].valid,isRequired:t.rules[n].required,id:t.rules[n].element_id,regexp:t.rules[n].regex};return e},this.validateAll=function(e){t.validateAsErr=!0;for(var n=0;n<t.rules.length;n++)t.validateSingleRule(n);var r=t.callbackFunction!=""&&t.callbackFunction in window?window[t.callbackFunction](!0,t.getCallbackObject()):t.isValid(),i=document.getElementById("form_validation_error");return Boolean(r)?(i!=null&&(i.innerHTML=""),!0):(i!=null&&(i.innerHTML='<span class="error">Some required fields are not filled in.</span>'),formValidatorController.stopEvent(e))},this.isValid=function(){var e=!0;for(var n=0;n<t.rules.length;n++)!t.rules[n].valid&&t.rules[n].required&&(e=!1);return e};var t=this;t.init(),addEvent(t.formElem,"submit",t.validateAll)}e.isSupported=document.getElementById&&document.getElementsByTagName,formValidatorController={validatorCollection:[],initiateFormValidation:function(){if(!e.isSupported)return;var t,n=document.getElementsByTagName("form");for(var r=0,i;i=n[r];r++)t=new e(i),formValidatorController.validatorCollection.push(t)},stopEvent:function(e){return e||window.event,e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1}}})(),addEvent(window,"load",formValidatorController.initiateFormValidation);