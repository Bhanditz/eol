/* Functions for handling the administrator's view of the TOC, where items can be re-arranged, added, and the like.
 */
function refresh_toc(){jquery_post(null,"/administrator/table_of_contents/show_tree",$("#edit_toc"))}function toc_move_up(e,t){jquery_post("id="+e+"&top="+t,"/administrator/table_of_contents/move_up",$("#edit_toc"))}function toc_move_down(e,t){jquery_post("id="+e+"&bottom="+t,"/administrator/table_of_contents/move_down",$("#edit_toc"))}function toc_add_sub_chapter(e,t){input_value=$("#"+t).val();if(input_value=="")return alert("You must enter a sub-chapter label"),!1;jquery_post("label="+input_value+"&parent_id="+e,"/administrator/table_of_contents/create",$("#edit_toc"))}function toc_add_chapter(e){input_value=$("#"+e).val();if(input_value=="")return alert("You must enter a chapter label"),!1;jquery_post("label="+input_value+"&parent_id=0","/administrator/table_of_contents/create",$("#edit_toc"))}function toc_edit_label(e,t){new_html='<input id="toc_edit_label_'+e+'" type="text" size="40" value="'+t+'">',new_html+='<a href="" onclick="submit_new_label('+e+", 'toc_edit_label_"+e+'\'); return false;"><img title="edit" style="float: right;" src="/assets/checked.png" alt="edit"></a>',$("#toc_label_"+e).html(new_html)}function submit_new_label(e,t){input_value=$("#"+t).val();if(input_value=="")return alert("You must enter a new label"),!1;jquery_post("id="+e+"&label="+input_value,"/administrator/table_of_contents/update",$("#edit_toc"))}function jquery_post(e,t,n){$.ajax({url:t,data:e,success:function(e){n.html(e)}})};