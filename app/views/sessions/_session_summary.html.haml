- # TODO: Fix HR css so we don't need different classes here
- session_class = @home_page ? 'session signed_in' : 'session'
%div{:class => session_class}
  %h2.assistive= I18n.t(:account_information)
  %ul
    - # TODO: possibly load counts after page load with AJAX see application.js EOL.get_notifications
    - # if we are not bothered about i18n for the numbers then we can delete views > users > notifications
    - # and just append the count to the a tag with AJAX, keeping the icons and link available on page load
    - # we'd need to remove the current i18n keys in these links, instead use a title attribute
    %li= link_to I18n.t(:user_notifications_messages_with_count_assistive, :count => current_user.message_count),
      user_newsfeed_path(current_user, :filter => 'messages')
    %li= link_to I18n.t(:user_notifications_with_count_assitive, :count => current_user.notification_count),
      user_newsfeed_path(current_user)
  = link_to image_tag(current_user.logo_url('small'), :alt => I18n.t(:profile_image_alt_text_member, :user_full_name => h(current_user.full_name))),
    user_newsfeed_path(current_user)
  .details
    %p
      %strong= h current_user.short_name
      %br/
      = h current_user.tag_line
    %p.user_links
      - if current_user.is_admin?
        = link_to I18n.t(:pages_admin_section_link), admin_path
        &bull;
      - if current_user.is_curator?
        = link_to I18n.t(:pages_curator_section_link), curators_path
        &bull;
      = link_to I18n.t(:profile), user_newsfeed_path(current_user)
      &bull;
      = link_to I18n.t(:sign_out), logout_url(:return_to => current_url(false))
