#errors
  %form#page-form{ :method => "post", :action => "/administrator/error_log/index" }
    Filter by day:
    - default_select = (@date == 'all') ? 'all' : @date.strftime("%d-%b-%Y")
    = select_tag :date, options_for_select([['--select--', nil], ['--all--', 'all']] + @distinct_dates, default_select), {:onchange=>"javascript:$('#page-form').submit();"}
  %br
  - if @date == 'all'
    Showing
    %strong
      ALL errors
  - elsif !@date.blank?
    Showing errors the error log for:
    %strong
      = @date.strftime("%A, %B %d")
  %br
  - if @errors.nil? == false && @errors.size > 0
    = will_paginate @errors, :params => {:date => @date}
    %table.results_table{ :cellspacing => "0", :width => "100%" }
      %tr
        %th
          ID
        %th
          Exception
        %th
          URL
        %th
          User agent
        %th
          Date
      - for error in @errors
        - column_class=cycle('odd','even')
        %tr
          %td{ :class => column_class }
            = error.id
          %td{ :class => column_class }
            = link_to(h(error.exception_name),:action=>'show',:id=>error.id)
          %td{ :class => column_class }
            = h error.url
          %td{ :class => column_class }
            = h error.user_agent
          %td{ :class => column_class }
            = format_date_time(error.created_at)
    %br
    = will_paginate @errors, :params => {:date => @date}
  - elsif @errors.nil? == false && @errors.size == 0
    %br
    %i
      No errors are available.
