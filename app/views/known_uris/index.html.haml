= content_for :head do
  = stylesheet_link_tag "known_uris"
  = javascript_include_tag "known_uris"
#content
  #known_uris.site_column
    %table.standard
      %tr
        %th= I18n.t('activerecord.attributes.known_uri.uri')
        %th= I18n.t('activerecord.attributes.known_uri.name')
        %th= I18n.t('activerecord.attributes.known_uri.is_unit_of_measure')
        %th= I18n.t('activerecord.attributes.known_uri.toc_items')
        - if current_user.is_admin?
          %th= I18n.t(:actions)
      - @known_uris.each do |known_uri|
        - klass = nil
        - klass = 'hidden' if known_uri.hidden?
        - klass = 'unknown' if known_uri.unknown?
        %tr{ class: klass }
          %td= known_uri.uri
          %td= known_uri.name
          %td= known_uri.is_unit_of_measure ? I18n.t(:yes_answer) : I18n.t(:no_answer)
          %td
            - cats = known_uri.toc_items.map(&:label).join('<br />')
            - if cats.blank?
              = I18n.t(:none)
            - else
              = raw cats
          - if current_user.is_admin?
            %td
              = link_to I18n.t(:edit).i18n_downcase, edit_known_uri_url(known_uri)
              = link_to I18n.t(:delete).i18n_downcase, known_uri, data: { confirm: I18n.t(:are_you_sure) }, method: :delete
              %br
              - if known_uri.visible?
                = link_to I18n.t(:suggested_vocab_remove).i18n_downcase, hide_known_uri_path(known_uri), data: { confirm: I18n.t(:are_you_sure) }, method: :put
              - elsif known_uri.hidden?
                = link_to I18n.t(:suggested_vocab_add).i18n_downcase, unhide_known_uri_path(known_uri), method: :put
    - if current_user.is_admin?
      %p= link_to(I18n.t(:add_new_known_uri_link), new_known_uri_path, class: 'button')
      %br
      %br
      %hr
      %form#stats_form.select_submit{ action: show_stats_known_uris_path }
        = I18n.t('known_uris.select_a_category_to_view_stats')
        = select_tag :stats_filter, options_for_select([[ '--select--', nil]] + @stats_filter_options, @stats_filter_selected_option)
        .actions
          = submit_tag I18n.t(:filter_button)
      #stats_report
        = render :partial => 'stats_report'
