.metadata
  - data_point_uri ||= @data_point_uri
  - metadata = data_point_uri.get_metadata(current_language)
  - references = data_point_uri.get_references(current_language)
  - if metadata || references
    %table.meta{ summary: I18n.t(:data_metadata_subtable_summary) }
      %caption.title= I18n.t(:data_about_this_record)
      - if metadata
        - metadata.each do |d|
          %tr
            = display_uri(d.predicate_uri, :th, define: true)
            %td= raw display_text_for_data_point_uri(d)
      -# TODO: we need to factor in refereces which use separate fields instead of full_reference
      - if references
        - references.each do |d|
          %tr
            %th= I18n.t(:reference)
            %td= raw d[:full_reference].to_s.add_missing_hyperlinks

  - if other_measurements = data_point_uri.get_other_occurrence_measurements(current_language)
    %table.meta{ summary: I18n.t(:data_measurement_subtable_summary) }
      %caption.title= I18n.t(:other_measurements_from_this_record)
      - other_measurements.each do |d|
        %tr
          = display_uri(d.predicate_uri, :th, define: true)
          %td= raw display_text_for_data_point_uri(d)
